---
title: "cherry-pick é‹ç”¨ã®åœ°ç„ã‹ã‚‰é€™ã„ä¸ŠãŒã£ãŸè©±ã‚’ã—ã‚ˆã†"
emoji: "ðŸ’©"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["DevOps", "Git", "GitHub", "GitFlow", "DX"]
published: false # Fix "TBD" before turning into true
order: 121
layout: article
---

# ã¯ã˜ã‚ã«
ã¯ã˜ã‚ã«æ–­ã£ã¦ãŠããŒã€ã“ã‚“ãªç”Ÿæ˜“ã—ã„ã‚‚ã®ã˜ã‚ƒãªã„ã€‚æœ¬å½“ã«åœ°ç„ã®æ²™æ±°ã§ã‚ã‚‹ã€‚

![](https://raw.githubusercontent.com/noraworld/developers-blog-media-ja/master/cherry-pick-operation/Screen%20Shot%202022-02-15%20at%2020.03.24.png)





# TBD
ç­†è€…ãŒå‚åŠ ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ–ãƒ©ãƒ³ãƒã®é‹ç”¨ãŒ cherry-pick ã§è¡Œã‚ã‚Œã¦ã„ãŸã€‚Git Flow ã§ã‚‚ GitHub Flow ã§ã‚‚ãªã„ã€‚è¨€ã†ãªã‚Œã°ã€Cherry-pick Flow ã§ã‚ã‚‹ã€‚

## Git Flow ã«ã¤ã„ã¦
Git Flow ãªã‚‰ã€æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ã™ã‚‹éš›ã«ã¾ãš `develop` ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction TB

        subgraph develop
            d1[A] --> d2[B] --> d3[C]
        end

        subgraph release
            r1[A] --> r2[B] --> r3[C]
        end
    end

    develop --> release
```

ãã‚Œã‚’ `master` ã«ãƒžãƒ¼ã‚¸ã™ã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph release
            r1[A] --> r2[B] --> r3[C]
        end

        subgraph master
            m1[A] --> m2[B] --> m3[C] -.-> M1
        end

        r3 --> M1
    end
```

ãã—ã¦ã€`master` ã¸ã®ãƒžãƒ¼ã‚¸å¾Œã®ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆ (M1) ã‚’ `develop` ã«é€†è¼¸å…¥ã™ã‚Œã°ã€åŸºæœ¬çš„ã« `develop` ãƒ–ãƒ©ãƒ³ãƒãŒ Fast-forward ãªçŠ¶æ…‹ã¨ãªã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph develop
            d1[A] --> d2[B] --> d3[C] -.-> d4[M1] -.-> d5[M2]
        end

        subgraph master
            m1[A] --> m2[B] --> m3[C] --> m4[M1]
        end

        m4 --> d5
    end
```

ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®å ´åˆã‚‚åŒæ§˜ã§ã‚ã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph develop
            d1[A] --> d2[B] --> d3[C] -.-> d4[D] -.-> d5[E] -.-> d6[M1] -.-> d7[M2]
        end

        subgraph master
            m1[A] --> m2[B] --> m3[C] -.-> m4[D] -.-> m5[E] -.-> m6[M1]
        end

        subgraph hotfix
            h1[D] --> h2[E]
        end

        %% master -> develop
        m6 --> d7

        %% hotfix -> master
        m3 --> h1
        h2 --> m6
    end
```

ã‚³ãƒŸãƒƒãƒˆã®å–ã‚Šã“ã¼ã—ãªã©èµ·ãã‚‹ã‚ã‘ãŒãªã„ã—ã€ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­è‡ªä½“ã‚‚ã‚„ã‚‹ã“ã¨ãŒæ˜Žç¢ºã§ã‚ã‹ã‚Šã‚„ã™ã„ã€‚

## Cherry-pick Flow ã¨ã¯ä½•ã‹
ã§ã¯ Cherry-pick Flow ã ã¨ã©ã†ãªã‚‹ã‹ã€‚

æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ã™ã‚‹éš›ã« **`master` ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚‹**ã€‚ `develop` ã‹ã‚‰ã§ã¯ãªã„ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction TB

        subgraph master
            d1[A] --> d2[B] --> d3[C]
        end

        subgraph release
            r1[A] --> r2[B] --> r3[C]
        end
    end

    master --> release
```

ãã—ã¦ `develop` ãƒ–ãƒ©ãƒ³ãƒã®ä¸­ã‹ã‚‰ã€**ä»Šå›žãƒªãƒªãƒ¼ã‚¹ã—ãŸã„ã‚³ãƒŸãƒƒãƒˆã ã‘ã‚’ cherry-pick ã—ã¦ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã«å–ã‚Šè¾¼ã‚€**ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph develop
            direction LR
            d1[A] --> d2[B] --> d3[C] --> d4[D] --> d5[E] --> d6[F] --> d7[G]
        end

        subgraph release
            direction LR
            r1[A] --> r2[B] --> r3[C] --> r4[E] --> r5[G]
        end

        d5 -.-> |cherry-pick| r4
        d7 -.-> |cherry-pick| r5
    end
```

ä¸Šå›³ã®ä¾‹ã§ã¯ã€ã‚³ãƒŸãƒƒãƒˆ `E` ã¨ã‚³ãƒŸãƒƒãƒˆ `G` ã®ã¿ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ãŸã„ãŸã‚ã€ãã‚Œã‚‰ã‚’ cherry-pick ã—ã¦ã„ã‚‹ã€‚ã‚³ãƒŸãƒƒãƒˆ `D` ã‚„ã‚³ãƒŸãƒƒãƒˆ `F` ã¯ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œãªã„ã€‚

ãã‚Œã‚’ `master` ã«ãƒžãƒ¼ã‚¸ã™ã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph master
            direction LR
            m1[A] --> m2[B] --> m3[C] -.-> m4[E] -.-> m5[G] -.-> m6[M]
        end

        subgraph release
            direction LR
            r1[A] --> r2[B] --> r3[C] --> r4[E] --> r5[G]
        end

        r5 --> m6
    end
```

æœ€çµ‚çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph develop
            direction LR
            d1[A] --> d2[B] --> d3[C] --> d4[D] --> d5[E] --> d6[F] --> d7[G]
        end

        subgraph master
            direction LR
            m1[A] --> m2[B] --> m3[C] --> m4[E] --> m5[G] --> m6[M]
        end
    end
```

`master` ã«ã¯ `D` ã¨ `F` ãŒãªã„ã—ã€`develop` ã«ã‚‚ `M` ãŒãªã„ã€‚

`M` ã¯ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆãªã®ã§ã€ã“ã‚Œã ã‘ãªã‚‰ã¾ã  `master` ã«å–ã‚Šè¾¼ã¾ã‚Œã¦ã„ãªã„æ©Ÿèƒ½ãŒã‚ã‚‹ã€ã ã‘ã§æ¸ˆã‚€ã€‚

ã—ã‹ã—ã€å®Ÿéš›ã«ã¯ã“ã†ãªã£ã¦ã„ã‚‹ã€‚

```mermaid
flowchart LR
    subgraph branch[ ]
        direction LR

        subgraph develop
            direction LR
            d1[A] --> d2[B] --> d3[C] --> d4[D] --> d5[E] --> d6[F] --> d7[G]
        end

        subgraph master
            direction LR
            m1[A] --> m2[B] --> m3[C] --> m4[E] --> m5[G] --> m6[M] --> m7[H]
        end
    end
```

`H` ãŒ `master` ã«ã®ã¿å­˜åœ¨ã™ã‚‹ã€‚ã“ã‚Œã¯æœ¬ç•ªç’°å¢ƒã§ã®ã¿åæ˜ ã•ã›ãŸã„å†…å®¹ã§ã‚ã‚‹ã€‚æœ¬æ¥ãªã‚‰ç’°å¢ƒå¤‰æ•°ãªã©ã§å‡¦ç†ã‚’åˆ†ã‘ã‚‹ã¹ãã¨ã“ã‚ã‚’ã€ãƒ–ãƒ©ãƒ³ãƒã§ã‚³ãƒ¼ãƒ‰ã‚’åˆ†ã‘ã¦ã„ã‚‹ã€‚æœ¬å½“ã«åœ°ç„ã§ã‚ã‚‹â€¦â€¦ã€‚

ã“ã‚Œã«é–¢ã—ã¦ã¯ã€Œ[æœ¬ç•ªç’°å¢ƒã¨ç•°ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†ã®ãŒéžå¸¸ã«å›°é›£ã«ãªã‚‹](#æœ¬ç•ªç’°å¢ƒã¨ç•°ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†ã®ãŒéžå¸¸ã«å›°é›£ã«ãªã‚‹)ã€ã®é …ç›®ã§è©³ã—ãè§£èª¬ã™ã‚‹ã€‚

## ãªãœã“ã®ã‚ˆã†ãªãƒ•ãƒ­ãƒ¼ã«ãªã£ãŸã‹
ç­†è€…ã‚‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€åˆã‹ã‚‰ã„ãŸã‚ã‘ã§ã¯ãªã„ä¸Šã«ã€åˆæœŸãƒ¡ãƒ³ãƒãƒ¼ã‚‚ä»Šã¯ä¸€äººã‚‚ã„ãªã„ã®ã§è©³ç´°ã¯ã‚ã‹ã‚‰ãªã„ãŒã€`develop` ãƒ–ãƒ©ãƒ³ãƒã‚’ã€ã„ã‚ã‚†ã‚‹ `feature` ãƒ–ãƒ©ãƒ³ãƒã®ã‚ˆã†ã«ä½¿ã£ã¦ã—ã¾ã£ãŸã“ã¨ãŒç™ºç«¯ã‚‰ã—ã„ã€‚

Git Flow ãªã‚‰ã€`develop` ãƒ–ãƒ©ãƒ³ãƒã«ã‚ã‚‹ã‚‚ã®ã¯ã€æ¬¡ã®ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ã™ã¹ã¦æœ¬ç•ªã€ã¤ã¾ã‚Š `master` ãƒ–ãƒ©ãƒ³ãƒã«å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã€‚ã ã‹ã‚‰ã€**`develop` ã«å–ã‚Šè¾¼ã¾ã‚ŒãŸã‚‚ã®ã¯ã€ã„ã¤ã§ã‚‚æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ã—ã¦ã‚‚è‰¯ã„ã‚ˆã†ãªçŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹**ã€‚

ã—ã‹ã—ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã‚‚ã¨ã‚‚ã¨ Git Flow ãªã©ã¯æŽ¡ç”¨ã•ã‚Œã¦ãŠã‚‰ãšã€ã¨ã‚Šã‚ãˆãš PR ã‚’ `develop` ã«ãƒžãƒ¼ã‚¸ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ãŸã‚ˆã†ã ã€‚ãã®ã›ã„ã§ã€ä»Šã™ãã«ã¯æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ã—ãŸããªã„ã‚ˆã†ãªå†…å®¹ã‚‚ `develop` ã«å–ã‚Šè¾¼ã¾ã‚Œã¦ã—ã¾ã†ã“ã¨ã«ãªã‚‹ã€‚ã„ã‚ã‚†ã‚‹ä¸­é€”åŠç«¯ãªçŠ¶æ…‹ã¨ã„ã†ã‚ã‘ã ã€‚

_ã€Œæœ¬ç•ªãƒªãƒªãƒ¼ã‚¹æ™‚ã«ä¸­é€”åŠç«¯ãªå¤‰æ›´ã¯å–ã‚Šè¾¼ã¿ãŸããªã„ã€‚ä»Šå›žãƒªãƒªãƒ¼ã‚¹ã—ãŸã„ã®ã¯ã“ã®å¤‰æ›´åˆ†ã ã‘ã€_ â€•â€•â€• ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã« cherry-pick ã§å¿…è¦ãªã‚³ãƒŸãƒƒãƒˆã ã‘ã‚’å–ã‚Šè¾¼ã‚€é‹ç”¨ãŒå§‹ã¾ã‚Šã€**åœ°ç„ã®ã‚ˆã†ãªè² å‚µã‚’ç”Ÿã‚€ã“ã¨ã«ãªã‚‹**ã€‚



## é‡‘ã§è§£æ±ºã§ããªã„åœ°ç„ã‚‚ã‚ã‚‹
åœ°ç„åœ°ç„ã¨ã„ã†ãŒã€å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªåœ°ç„ãªã®ã‹ã€ã¾ãŸã€ã©ã‚Œãã‚‰ã„åœ°ç„ãªã®ã‹ã«ã¤ã„ã¦ã€ã¾ã ãƒ”ãƒ³ã¨ãã¦ã„ãªã„äººã‚‚ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚

ãã“ã§ã€å…·ä½“çš„ã« Cherry-pick Flow ãŒã©ã®ã‚ˆã†ãªå¼Šå®³ã‚’ç”Ÿã‚€ã®ã‹ã«ã¤ã„ã¦è¦‹ã¦ã„ã“ã†ã€‚



### ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆåœ°ç„

2022 å¹´ã® 2 æœˆã«ãã“ãã“å¤§ãã‚ã®æ©Ÿèƒ½ã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã“ã¨ã«ãªã£ãŸã®ã ãŒã€ãã®ã¨ãã« `develop` ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã« cherry-pick ã—ãŸã¨ãã®ã‚³ãƒžãƒ³ãƒ‰ãŒä»¥ä¸‹ã§ã‚ã‚‹ã€‚

```shell
git cherry-pick d772162217a0f673de7553967fa430af1a52bbe8 d86cd3d8bae8897d391a0decb1aadb05724717d0 3dda8f526aed188449336fcecfe051c554142c90 10d30e9cdc235ba09509c9bb8c9da9625989d804 3dc695dca4820a402ec38276fb4da86689483de1 664a42f11df76b41cc9e26415319b6b37207509c 4d0cd58736d76e1a78a912f740d11009e1c1179e 6aeb1bc48430e65e5d3361ec46ea17a2656e317b c153a805803826dc79dbb9e2c75f3e480bbeee73 8187a88d2f1cd647d7c2bba210a4e25935b90b06 d422b9aaa1e077f3f33b60356529bb4e22933cb4 f873949a7a4961251476ea661d263cb4da45c1dc 498ab8e007961e5cfbf922c82e7159e3640e42e1 0517db912141da8d9a5f9ab1ea671a764f672949 4cb5caa00f64f0a13799d2a402eb4b3c621de8bb d1c5a091e649930182fcc0e362a6446d7aed671e 0f84a93200addf4cabf58d7fd64e5a3df81b716a 046e4caaeb1f4f7d563f4457f865e1c0cc773d67 b519293ae7b985aaef0f3c127dfa623818908cf1 ebb567fb93ccbcb777e0fb5f92aa4984e0552a39 bbfd06b7bc7f8fcc6a90a54bb915112c4ce80fb4 8d60417a10fd073b0ca6b547295edb4e9ddb0c1e b03a6ffae1a3f47c73c8150fd38ce9d6ec2a1a83 1d77c94e21a4243397e45ffb33c9f5861e9a90d7 25811d93fbe093e890706024d314a6c5af911007 b64e3bb987773f9ad8fe09477096545197125f30 6ab894d8445425213ae8ff344bb03ac375c560ec af993851b2c13d828b629e376c5af87d3286c017 b85a1d108dd372f97a9c130531d7094cd92ec527 146d3d5248deb11dfb8f9f3e9ecf24e40ee84250 54f0cad4a35e6ef3f3a72ec493e910239f2dd6d5 984f02811f9ee0d399222f784eb02f78ec5edf3c a7acac6ab4c4b9c29a8039c34dec510bcddbb7f2 4bf689793a3a5082d7a26e7a6e5d084110dbc11c d4ab9de0646d51ba040caf0f221bacdafbc66a8d 5ea65a2eb4e5da2b5e9b9b36fb1e30f4434d33eb bd10bce84f033b56cce1b269251216255ee53bbc a2d6c3b72db99388a58968ef7eb2e7b6ecb91154 dcac8123f0b8063f53ac46e7897e8bef26d2d112 19ed1e4e56f205c959ca3b741d749e0027cf134a e069054c99ed324c0fe2b12f051922126be8c75e b70b94056b0f97dbbcd1518eabb6e649646f7c06 6bd9c55a0973af07b86bc40345bdfef8b40e4b4c e545b7de70c601d47c02414998a0bd0f10e11c40 b533cf9ae40d3d17d146a4eafe8b64ea9d931095 2d99db898e2b8233b50469c1b8ea3f5f1b316ab5 8a81c74a11fdab08128b5fd06b100633027a00cb 2884ebf2d6d8c8fce2bf0bdb4fa1eced30856569 fd094e54ddb5013abc5f43bb7e93f27c67e550e6 dac9efdec633bda2c1de5fce98d2fc722867fd66 fe1316117fde7d8eb5eee306dadf88e06956c9c6 f507a844a2c185ed38ddf3e0e82893c09c03c3e5 ae1149b729e0623b2d4f750803033753c2ec2b7a 015fcd9816c8105d0b0528af35512d016fd9dc7c 43b9f930d27bb5f994191be45eb7006d431e79e9 18bfd3cb9e7642042aa6d03e50153293cf5a249b 64cf903df48e5ca3cb2a1fee934274659b1e5efe 904dd995284e2dd6a06d387a0e24103eb7de6a2c 2f59447766ce448f463ca3f8890a16200a40228a af50a2cd548ff3565e47b44b0c4ca04469642583 4f37127dd327bc9528ede513e678dee835685071 b5c0264cf34f57232b65a03287fe842257e5aca4 dcd58a55ad67b5504e30a43d2c71f3a25afc8f87 4c79b31fe97b48c7f08e727dfe039ba7ad67fede 9301a7d10b9dc0bac671b5fcf0243855209f5a21 250ba2b994452bb80eee64e7075242a5863d1b8b 7f103d6d6911660b751777c0675da7a2e83a1862 794931d48b546958a27b65bf2e47202b2f85f20f b3b8526d05ab291ae769b3f1cb6374e0d703d8ec ff735ec5905a1bfa7c134e0a9234c37c182c2a18 b15b9b6738678bef20ad3ddd0af63ebd17b04f6d da8fc418a32d43f646764d75f4b2a6dd285f6cc8 0e6a948e107dd45dbb76f3caa83da419b45c5d7f e295063cf2d53ba7cd8d93b35256c51f11a81190 ed5173fd6df3fd74e8b2d49d096e2f0f056a7d9a 6d61e087a47b47e80c8fcd4fcc5e25ecb1916bd2 39e49992044ec5d000fcdc6b97c839e0c5950db7 39a48e6bc9b5cb9919856d187902447cd18dd821 4fa881a80e15434503dc6b280ca817825c0e8066 1bf9858457311c7e9f82bcaf08d2f3a7526589f0 911a5329df20f80e22ca9364f12228543a27607b 1d38a9e821d0cb5c064c3e6d1c310a64b6451321 c1b8b2fc5cba117d3c3ba336a8aa4c4da375fd8c b9fa01992a3526d8318a6d7285e72987464d8674 d53af25f0cc7e5b1bfa9a3a61bf787259a7d415e fa9fd5d38b76a8e446a839d07687b5a6f32b51af ebb65998cfb178a6a846fb6350385a0cac057fe6 67afef591ea7758a82a26d27412037e20fe71049 92248949db556c24f855b77dbf717543ee52d736 6ccdf332690ef1e1df0d15774369b29b05e8d162 0623037663c858674ab450d9a495c72e784d7e7b c4c2e453cb0bbb1983d3340818a4194b58e49a10 d39dfb49e79c1792dfb54e89a0bad6f8607a2ff2 393d29ec5820e8cf3a3117b6150862dd815c61f0 e5c46ef1735483a8638f0510c8cbdf2f8b79a1dc e6fa597c0db5bc6f5c3f66d9286d1073af3fb8f7 19eff1dcb31c7b3aacb74522dce92567257477bb 9efc50cc9278cdf5422d3fd514475d1080deedda ade1498639582ff96344628bc051d67c770b3a8e 7ec1729f76115840fb8c809d8235dccab837e359 5434226a4abd7ad71f912daf185340d1cc0dc3a7 3966e413664662ba23ba93fa48fb53a19419a361 2b7d95e09191888a74a9bbee37fb3d4d9ad81036 27a6c55dd65d6588c1f26317236a981308a0fc11 0e6a2708569e81fe0466b1c40a4f75308d0f0947 3d06111d4ff6b4771dc075efea7302157cf8b6f8 d147c91e50ba8caf58cce199401fe732ed359a75 59865eb6205c2f2e286dddc258ce784ec22994ee fa4c9cf93828c902509acf354f5e894a0e5c2793 fd1e7971e6a82ef2a45d4645b49e454efab68fcb 63adfd27cfb0b865f0deb6548fbdbb2d0c9c7d6f 4ba13aacb853f2a9c0160c17eb37ef04b832103f ce5470e183d3fc2115da464d2df92667974b5039 96f48424896c7e669b1f160cbda56a48fa7971a7 e2672ef08f9146ac5a9bf23afd39b8d9a54b6ed3 ee884c3cd6fbfb0e7b517d7d34d4f83159e7a17b d27c6390cc3e32118e4c9bc5b609154ac1121552 019a1c0381e5e1a198464667e0d92fa7472858ef 012262d16aa08c53ae77f256565705fb0e7df169 06e7daf0489b818ea5ec5f9b72ee5bdd2ffb6884 e29f2dfcc591dfcf41917ca6cb8ae764d25ede50 a91e8858773f49f28d8a6b46851f382ca2e1690a 46749d8753d5bab52533adf850bf5dcf78bdf0bb f9edbd4038573f6287d60e9cdb1722e6a491e9a8 d6865d0b0c4df8f848796db9be7f03815ae53067 bec3774532864c16f1130639b4a4f418adc9f7e5 0d74baaf394976e2fcac4a568f9acd9cb6434388 3f9381bde00360322d0fc0aa25d0c21c5ab95faa 5a47d9033e1a587bd1f00b0beee35988347f765e 1d865cea84d97575975440669b77149fb6fd2af9 72dc282888e4ba72692d3d505baf7133218084b3 5ab7f3d18002cea86d3b944f19a37b67f65b51ad 03a9cef6cffdf048de40e308754a04774c05a8f5 d2587133a0d505dbd87304af8515c7f39bb80365 1216f213cf7f44e3d725541e8ef76fcaa4e04af2 d119ca14b9d96f11f43d4500e4411fde5e9f36e6 eded1b12933d6b3174f66cf07bf5d48918168d41 96358378cccb2e39d5fb88bbc6441a8286536e42 45d555b31edd89df783f57d2d5c6c594f575e470 9dc7b0c26abed9d41f0b010494ba42bed0e9f784 719cc339f25c25a7100f875aef01e458fb2a652d b0dc4a7bb966a8143e738272f387763b09504437 baa17eae5be42692cac2f9f31b8068d85c3466d0 a9880b7a1084d8a5c835f10c0886b62440a1f982 e789a4dd3fe90c2f36502c01e07769feff1f1d1a 09ee5135f49e087655385b74472e0b1abb6bfd3c 2df37dc26525503237e053588d53d28a18b9b695 352ea30a52d81f050b06f4bce2b47f90926cc98c 055263c6ecc88242ee59336ef4adecf2aec3d5d6 9c8842f4361b28efff93fead0643b1ab2a918330 bf4bfcf539dda294e0c63c90aa11366a84297a21 fca6d4cebac14e987e8fa66a84c7fddc0d820198 2e1bfcc7a6cd516ec5a09b412107b41f1b1fdd67 fe3b24de23426b8cc559590aa28f2d644fa936a2 49297aa9096d4512c0ac9f545c8ec129a757761e b9196699871b8203413e282c4d99dc1509e5b33a 1e229a43500cb62d51471f08f959a53bc9aaabac 6a1409d2cb0058f3542af6e820ae250b683f7cd3 c39ea0a701ea779c5cb64f339b90d9db12a25cfb 2b850e4a9e2c322ea7edf1957a2f88635da3aed3 717418bdbf8967cbd325ce05626785ceb5d8141a cd99cdf0f8b094d46d47e9dc16cc6d9c2bf6026e 8675e8bd481b86bd0622ebb3938fa8f2c47f09b3 91f3019730ff2dcd0e505472b11b39a2acd3aaf2 c52f51618c5bcbae95f8b8c09b8b5eb0946be99b e7d07e4e6529183d322d3284bc0efda5666165ec 7d9d02922ffcc810a31d56ffec3d106f19bfac1b c75b16d7b0dfa873e2c59a6514a7fcd674bcf889 642d1cc580bf5c4b4e8cf9c9304dec87f42156a7 091644eb16494a08fca3a45cbfc08c856afa0c2f 1ff391eae8ef5b529f38620fc2f480d1894ea965 d01925c65ecfc14ddf6aa64b7680c40da3d945b4 95e7ef5fd29a1c9d56d861f0e9ab2a7cd6ae4cb8 14632f972a0f50bd358a67653643339721b88e6e 419ae71c5daadbf991556a9cc394317704971e4f 32d56280d5515afa34863491e9aafd762e48cbfc 913f0b118a390cdb02aeb140dc55e603d37adba0 5ca097ea2fefeaff82cf49635ae5557a7683bc73 38d3634a2f97632ec4e71cc3462539914df2d214 a61f27ee1687efa885cfee05c7e9fc100dc460ad 532896b9ad4d20c25a5df5d5067cd70181bed334 beb9816f16e41745318fe6637f6d94216ab25add a770ce428d580ea8981fc37ba49a43d7ce18f784 18fa99048b9bd52df18c783c6818ad37cdb2c6a7 3baa21439062ac5aba8ea4d92ab9ed4c40945c9e d0d0b41ca3cc14887cb65c23ab3afcd598df5ff4 b3ea1d0de7a44b964765218e1032fa95c0f64e4c 57e358b5567a845953d51cd7e600559f179f5087 f97b4883dc857a73ec5ee4249c92948529a7da5e 928915b62c8f5113e05efa54bba077bb97cdfc45 909a293868ccb000d94371eb6e218dcccd0dd0d8 d0ce84099b325f132381299e61bf5177544cc538 8ecaf13872cbcb8d788820aa9034c864d42cb124 7b246caf70d05476b5cfc273bbd836e5aaac175e ab1bce72e38654191c57dd99495ffe85e7d2f47a 6ba15439cad8528390cd03906fbbe813e4f1ffc8 b859e8d710890b28ea34c7f360c46fd70b557036 3789526a68b75e20aaabc2d6018c710edc613bc0 bf063e762910863c84b2de61db15d54fb275f34d 40ab281a0d04d947746d7d143d3a0077c298560b 40a9f9708c72640b34440c88e1d480cac7a86710 3993949da8f99afc51dfc15772b7827ebabe1ac9 fcd0e47770f982ff430cb8c2c3e90f92b4810daa 26348e0bbb00b2dd5759b19cbbf0ffd6d57a5f87 4aa134a0e0ca65e94b1a2405ee74e8461d26c224 9be254b9590ecf11dad8d4e5438e1e7910c12fc2 f888b98fcf888315fd54bcc82ee53179c807c76e 7d745ded6c56a0eb912713c0f641f625a8d51524 4dbc600c3992e660ab10e26dcf1b929727ab13a5 fbc37f3b6b72c825a51381480c63f1e2bed47e53 0ce710dac43e96cb70b6943c84077c7f15618de1 9367ffeb4c0216502f3aacfd95e525a554795c38 1aeed8393b785d35a7bd2b540b9fb5086cd746f4 100a36906095499918e86a78fcea0199e882141b cc914c4070ecd251860362f2a9da8cb61e188082 023481ead2b7521b616cfd76e6d2ad152d026665 751967aba80c062ed039fc5e6048c1c923387c06 24624fd050422fbc740e9bf6af6d0e0dff961ae8 c4083b096addd52ffc8e3642d57cca4f5925af44 230ae52fd2b15b1c1d46b0f58559d0aca123dbf5 195d5aeccb189e2c574f50fa954048d2da4118f0 30a23f010a422c3b6cc9ed99231a177cc8cea168 c542765666bffc9d09944695236803a6949e7d93 ea315dd1aced4512d29c75f7900e6be46b42412c 91364dc9463850233c9ea06b66b34c51f535b624 4483ea3a358f599558e1cdd215fe90798bcf952b 8f66276ab7e27225ddb4c1ca0b6169d2fc027cd1 b5fae781dcaa435deb92f336090957164fd47028 3b9c918a4eb2ead8a8140f2b3fabee7be6b62927 7ea1fc3df0e39f62731b7a6fad2e05bc08a4ed25 a7c7c3c7eb94758d96250d19688b32ff590258ab 5b38c3151e7b9f73adde06847d824ad417bec62d a46d0558852b753d71712bc3c16f3db8b9502eb8 a3899d287b5f44b10fd5c0d686dce5ddd938439c 466efb194fbcbf5758a0a8b663c57ac4980a6eb2 dc0229c2398a0f36bb87519a7d6b4c9ce354aabd 52d868e183e202594193185761cc3a8671916c47 add3ba1e3ae624ddbec601c9275bf7946dbae5a7 7fa7a38905a87d011c09ade36a9cf7ff11376608 850456769207b14c93a8baecdd92984398bc4df0 d11371921897f39e4616c4bb1ab7a0fbda39cba3 32fb587afccb4ef870136569d562b95d9ce3a3d5 0c46c630e5cc824424b33411bca5f9fdd4f45acd d2a1f4fce8c3d99a0dba827084535adb966ce34f efa420644cf38e29f8c11af9ffe7057201d08882 3bce7f8770bcedbd214e81a03e5f5d3d28dfc0a9 a33baf24e41170a950cba11deb33bf7d779d49c1 66f4bd68beeeaf329d52c206fb871269d3403501 fec077fbd2cdea54f6ddfc23fcfa32df0055cee5 a1f56c6bdda8b2523613fc19641b15cfbc458983 5c0ae01bc8fe8b028a0d98a2148896adda662b88 eece5baed89489c98a290f903560e8ab6382d984 3abe7f656daf2d13b705fbf08381ebd409f101f8 8b4f80a588aff2984f2b2598d49cabfe5289448b 9c4a140f24988c2e094646c4940ae3282fbff8e2
```

ã¡ãªã¿ã«ã€æ‘˜ã¿å–ã£ãŸã‚³ãƒŸãƒƒãƒˆã®æ•°ã¯ 255 å€‹[^1]ã‚ã‚‹ã€‚

[^1]: å¶ç„¶ã«ã‚‚ `2^8 - 1` ã ã£ãŸã€‚

[ã“ã‚Œã‚‰ã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’æ‹¾ã„ä¸Šã’ã‚‹ã“ã¨è‡ªä½“ã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ç°¡ç•¥åŒ–ã§ãã‚‹](https://github.com/noraworld/dotfiles/blob/c5cc28a75881e3d4ea3a375df3f6d63568ef496f/bin/src/git_subcommand/git-release-pick) ã®ã§ã•ã»ã©é›£ã—ãã¯ãªã„ã€‚å•é¡Œã¯ãã®ã‚ã¨ã ã€‚

ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã ã‘ã‚’æ‹¾ã„ä¸Šã’ã¦ã„ã‚‹ãŸã‚ã€**åœ°ç„ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆé€£éŽ–ãŒç™ºç”Ÿã™ã‚‹**ã€‚

`develop` ãŒ Fast-forward ãªçŠ¶æ…‹ã ã£ãŸã‚‰ã¾ã ãƒžã‚·ã ã£ãŸã‹ã‚‚ã—ã‚Œãªã„ãŒã€`master` ã«ã—ã‹ãªã„ã‚³ãƒŸãƒƒãƒˆã‚„ `develop` ã«ã—ã‹ãªã„ã‚³ãƒŸãƒƒãƒˆãŒå…¥ã‚Šä¹±ã‚Œã¦ã„ã‚‹ã›ã„ã§ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒã‚ã‚Šãˆãªã„ãã‚‰ã„ç™ºç”Ÿã™ã‚‹ã€‚

ã“ã® 255 ã‚³ãƒŸãƒƒãƒˆåˆ†ã® cherry-pick ã®é–“ã«ä½•å›žã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸã‹æ­£ç¢ºã«ã¯ãŠã¼ãˆã¦ã„ãªã„[^2]ãŒã€ã‚†ã†ã« 50 å›žã¯è¶Šãˆã¦ã„ãŸã¨æ€ã†ã€‚

[^2]: ãŠã¾ãˆã¯ä»Šã¾ã§ã«è§£æ¶ˆã—ãŸã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®æ•°ã‚’ãŠã¼ãˆã¦ã„ã‚‹ã®ã‹ï¼Ÿ

ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã¯ã„ã£ãºã‚“ã«ã¾ã¨ã‚ã¦èµ·ã“ã‚‹ã‚ã‘ã§ã¯ãªãã€ä¸€ã¤ãšã¤è§£æ¶ˆã—ã¦ã„ã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã‚‚ã¾ãŸåœ°ç„ã§ã‚ã‚‹ã€‚

ã•ã‚‰ã«ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã§ã¯ãªã„ãŒã€ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã«ã¶ã¡å½“ãŸã‚‹ãŸã³ã« cherry-pick ãŒä¸­æ–­ã•ã‚Œã€æ“ä½œã‚’é¸æŠžã—ãªã‘ã‚Œã°ã„ã‘ãªã„ã®ã‚‚ã¤ã‚‰ã„ã€‚PR ã‚’ãƒžãƒ¼ã‚¸ã™ã‚‹ã¾ã§ã®é–“ã« `develop` ãŒåˆ¥ã®ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚ˆã£ã¦æ›´æ–°ã•ã‚Œã‚‹ã¨ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚‹ãŒã€ãã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ¶ˆã®ãŸã‚ã®ã‚³ãƒŸãƒƒãƒˆã¯ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆæ‰±ã„ã«ãªã‚‹ã®ã§ã€ä¸Šè¨˜ã® 255 å€‹ã®ã‚³ãƒŸãƒƒãƒˆã®ä¸­ã«ã¯ã„ãã¤ã‹ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã ã€‚ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã¯ã€æœ¬æ¥ã¯ `-m` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã‚’ä»˜ä¸Žã—ãªã„ã¨ã„ã‘ãªã„ãŒã€ã“ã‚Œã ã‘å¤šã„ã¨å€‹åˆ¥ã§ `-m` ã‚’ã¤ã‘ã‚‹ã®ã‚‚å¤§å¤‰ãªã®ã§ã€é€ä¸€ cherry-pick ãŒä¸­æ–­ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ `git cherry-pick --continue` ã¾ãŸã¯ `git cherry-pick --skip` ã‚’ã™ã‚‹å¿…è¦ãŒå‡ºã¦ãã‚‹ã€‚

ã‚„ã£ã¨ã®æ€ã„ã§å…¨éƒ¨ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ¶ˆã—ã¦ã‚‚ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆæ™‚ã«æŽ¡ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’é€”ä¸­ã§é–“é•ãˆã¦ã„ã¦ã†ã¾ãå‹•ã‹ãªã‹ã£ãŸã‚Šãƒ†ã‚¹ãƒˆãŒè½ã¡ãŸã‚Šã™ã‚‹ã€‚ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ¶ˆã¯æ‰‹ä½œæ¥­ãªã®ã§ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–“é•ãˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã—ã€ä»–ã®äººã¨å…±åŒã§ç·¨é›†ã—ãŸéš›ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã ã¨ã€ã©ã¡ã‚‰ã‚’æŽ¡ç”¨ã™ã‚Œã°è‰¯ã„ã®ã‹æ¯Žå›žæ‚©ã‚€ç¾½ç›®ã«ãªã‚‹ã€‚



### ã‚·ãƒ³ãƒ—ãƒ«ã«æ‘˜ã¿å–ã‚Šãã“ã­ã‚‹
ã“ã‚Œã¯å®¹æ˜“ã«æƒ³åƒã§ãã‚‹ã¨æ€ã†ãŒã€ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹æ©Ÿèƒ½ã‚’å«ã‚€ã‚³ãƒŸãƒƒãƒˆã‚’ cherry-pick ã§ä¸€ã¤ãšã¤æ‘˜ã¿å–ã£ã¦ã„ãã®ã§ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒŸã‚¹ã§ä¸€éƒ¨ã‚’æ‘˜ã¿å–ã‚Šå¿˜ã‚Œã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚

å®Ÿéš›ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ä¸€éƒ¨ã®ã‚³ãƒŸãƒƒãƒˆã‚’æ‘˜ã¿å–ã‚Šãã“ã­ã¦ãƒªãƒªãƒ¼ã‚¹ã—ã¦ã—ã¾ã„ã€ãã®æ‘˜ã¿å–ã‚Šãã“ã­ãŸéƒ¨åˆ†ã‚’æœ¬ç•ªã«åæ˜ ã•ã›ã‚‹ãŸã‚ã®ãƒªãƒªãƒ¼ã‚¹ã‚’ã¾ãŸè¡Œã†ã€ã¨ã„ã†ã“ã¨ãŒç™ºç”Ÿã—ãŸã“ã¨ã‚‚ã‚ã£ãŸã€‚

å•é¡ŒãŒèµ·ããªã‹ã£ãŸã ã‘ã¾ã è‰¯ã‹ã£ãŸãŒã€æ‘˜ã¿å–ã‚Šãã“ã­ã‚‹ã‚³ãƒŸãƒƒãƒˆã®å†…å®¹ã«ã‚ˆã£ã¦ã¯ä¸æ•´åˆãŒç”Ÿã˜ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã§éšœå®³ã«ãªã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã†ã‚‹ã€‚å˜ç´”ã«äºŒåº¦æ‰‹é–“ã«ãªã‚‹ã ã‘ã§ãªããƒªã‚¹ã‚¯ã™ã‚‰å­•ã‚“ã§ã„ã‚‹ã®ã ã€‚



### æ€ã‚ã¬è½ã¨ã—ç©´ã«ãƒãƒžã‚‹
ã“ã‚Œã¯ 2022 å¹´ 2 æœˆ 15 æ—¥ã®ã“ã¨ã€‚å…ˆè¿°ã—ãŸãƒªãƒªãƒ¼ã‚¹å¯¾å¿œã®éš›ã«ã€ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œç¢ºèªã—ã‚ˆã†ã¨ã—ãŸã‚‰ã€Docker ä¸Šã® MySQL ãŒç«‹ã¡ä¸ŠãŒã‚‰ãªããªã£ãŸã€‚

åŽŸå› ã‚’ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚‚èª¿æŸ»ã—ã¦ã‚‚ã‚‰ã£ãŸã¨ã“ã‚ã€MySQL ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ãŸã“ã¨ã«ã‚ˆã‚Šã“ã®å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ãŸã‚ˆã†ã ã€‚

ç­†è€…ã‚‚è©³ã—ã„ã“ã¨ã¯ã‚ã‹ã£ã¦ã„ãªã„ãŒã€Docker ä¸Šã§ MySQL ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ãŸã‚ã¨ã«ã€ä¸Šã’ã‚‹å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§èµ·å‹•ã—ã‚ˆã†ã¨ã™ã‚‹ã¨å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã¨ã®ã“ã¨ã€‚

[ã€é€£è¼‰ã€‘ä¸–ç•Œä¸€ã‚ã‹ã‚Šã¿ãŒæ·±ã„ã‚³ãƒ³ãƒ†ãƒŠ & Dockerå…¥é–€ ã€œ ãã®6:Dockerã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã£ã¦ã©ã†ãªã£ã¦ã‚‹ã®ï¼Ÿ ã€œ](https://tech-lab.sios.jp/archives/21103)

ãªãœã“ã®ã‚ˆã†ãªå•é¡ŒãŒç™ºç”Ÿã—ãŸã‹ã¨ã„ã†ã¨ã€`develop` ã¨ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã§ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæŒ‡å®šã•ã‚Œã¦ã„ãŸã‹ã‚‰ã ã€‚

MySQL ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 5.6 â†’ 5.7 ã«ä¸Šã’ã‚‹å¯¾å¿œã‚’ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒã—ã¦ãã‚Œã¦ã€ãã‚ŒãŒ `develop` ãƒ–ãƒ©ãƒ³ãƒã«å–ã‚Šè¾¼ã¾ã‚ŒãŸã€‚

ã—ã‹ã—ã€ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã¯ 5.6 ã®ã¾ã¾ã ã€‚ãªãœãªã‚‰ã€**cherry-pick ã‚’ã—ãŸä¸­ã« MySQL ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 5.6 â†’ 5.7 ã«ä¸Šã’ã‚‹ã‚³ãƒŸãƒƒãƒˆãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹ã‚‰** ã ã€‚

Git Flow ã§ã¯ `develop` ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šã€ãã®ã¾ã¾ `master` ã«ãƒžãƒ¼ã‚¸ã™ã‚‹ã®ã§ã€`develop` ã§è¿½åŠ ã•ã‚ŒãŸå¤‰æ›´ã¯ã™ã¹ã¦ `master` ã«å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã€‚ã—ã‹ã—ã€Cherry-pick Flow ã ã¨ã€è‡ªåˆ†ãŒæ‹…å½“ã—ãŸæ©Ÿèƒ½ã®éƒ¨åˆ†ã®ã¿ã‚’ãƒžãƒ¼ã‚¸ã™ã‚‹ãŸã‚ã€ä»–ã®äººãŒå¯¾å¿œã—ãŸå¤‰æ›´ãŒãã®æ™‚ç‚¹ã§ã¯ã¾ã å–ã‚Šè¾¼ã¾ã‚Œã¦ã„ãªã„ã€‚

ã—ãŸãŒã£ã¦ã€ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šæ›¿ãˆãŸéš›ã«ç’°å¢ƒã«å·®ç•°ãŒç”Ÿã˜ã€ã“ã®ã‚ˆã†ãªå•é¡ŒãŒèµ·ã“ã£ã¦ã—ã¾ã†ã®ã ã€‚

ã“ã‚Œã¯å®Ÿéš›ã«ä½“é¨“ã—ãŸå•é¡Œã®ä¸€éƒ¨ã§ã‚ã‚Šã€ã“ã‚Œã«é™ã‚‰ãªã„ã¨æ€ã†ã€‚ãŸã¨ãˆã°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãæ›ãˆã‚‹ã‚ˆã†ãªå¤‰æ›´ã‚’ä»–ã®äººãŒå¯¾å¿œã—ã¦ `develop` ã«å–ã‚Šè¾¼ã‚“ã ãŒã€è‡ªåˆ†ã®ãƒªãƒªãƒ¼ã‚¹å¯¾å¿œã§ã¯ãã®å¤‰æ›´ã‚’å–ã‚Šè¾¼ã¾ãªã‹ã£ãŸãŸã‚ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šã«é½Ÿé½¬ãŒç”Ÿã˜ã¦ã†ã¾ãèµ·å‹•ã§ããªã„ã€ãªã‚“ã¦å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã€‚

ãã‚Œã‚‰ã®å•é¡Œã«ã¶ã¡å½“ãŸã£ãŸã¨ãã€ä½•ãŒåŽŸå› ãªã®ã‹ã‚’ç‰¹å®šã™ã‚‹ã®ã‚‚é›£ã—ã„ã—ã€ãã“ã«æ™‚é–“ã‚’å‰²ã‹ã‚Œã‚‹ã®ãŒæœ¬å½“ã«ä¸æ¯›ã ãªã¨æ„Ÿã˜ã‚‹ã€‚Cherry-pick Flow ã˜ã‚ƒãªã‘ã‚Œã°ã“ã®ã‚ˆã†ãªå•é¡Œã‚‚èµ·ã“ã‚‰ãªã‹ã£ãŸã¯ãšã§ã‚ã‚‹ã€‚



### æ°¸é ã« `master` ã«å–ã‚Šè¾¼ã¾ã‚Œãªã„å¤‰æ›´ãŒå‡ºã‚‹
æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ã‚’ã™ã‚‹éš›ã¯ã€æœ¬ç•ªã«å½±éŸ¿ã®ã‚ã‚‹å¤‰æ›´ã€ã¤ã¾ã‚Šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å¤‰æ›´ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å¤‰æ›´ãªã©ã€æœ¬è³ªçš„ãªã‚‚ã®ã®ã¿ãŒ `master` ã«å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã€‚

ã“ã‚ŒãŒæ„å‘³ã™ã‚‹ã®ã¯ä½•ã‹ã€‚**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©ã®å‹•ä½œã«å½±éŸ¿ã‚’åŠã¼ã•ãªã„å¤‰æ›´ã¯ã„ã¤ã¾ã§çµŒã£ã¦ã‚‚ `master` ã«å–ã‚Šè¾¼ã¾ã‚Œãªã„** ã®ã ã€‚

ãŸã¨ãˆã°ç­†è€…ãŒã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¸ãƒ§ã‚¤ãƒ³ã—ã¦ã‹ã‚‰ã€Codecov ã‚„ Code Climate ã®å°Žå…¥ã€ä¾¿åˆ©ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã©ã€DX ã‚’æ”¹å–„ã™ã‚‹å¤‰æ›´ã‚’ã„ãã¤ã‹è¡Œã£ãŸã€‚

ã—ã‹ã—ã€ãã‚Œã‚‰ã®å¤‰æ›´ã¯ `master` ã«ã¯å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã“ã¨ãŒãªã„ãŸã‚ã€ãƒªãƒªãƒ¼ã‚¹ PR ã«ã¯ã„ã¤ã¾ã§çµŒã£ã¦ã‚‚ Codecov ã‚„ Code Climate ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯ã¯å…¥ã‚‰ãªã„ã—ã€ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã§å‹•ä½œç¢ºèªã‚’è¡Œã†éš›ã«ã‚‚ä¾¿åˆ©ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒä½¿ãˆãªã„ã®ã§ã‚„ã‚Šã¥ã‚‰ã‹ã£ãŸã‚Šã™ã‚‹ã€‚

ã‚‚ã¡ã‚ã‚“ã©ã“ã‹ã®ãƒªãƒªãƒ¼ã‚¹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã“ã‚Œã‚‰ã®å¤‰æ›´ã‚’å…¥ã‚Œã¦ã—ã¾ã†ã“ã¨ã‚‚ã§ãã‚‹ãŒã€æ®‹å¿µãªãŒã‚‰ãã®ã‚ˆã†ãªé‹ç”¨ã‚‚ã•ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã€æ°¸é ã« `master` ã«å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã“ã¨ã®ãªã„ã‚³ãƒŸãƒƒãƒˆãŒç”Ÿã¾ã‚Œã¦ã—ã¾ã†ã€‚



### æœ¬ç•ªç’°å¢ƒã¨ç•°ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†ã®ãŒéžå¸¸ã«å›°é›£ã«ãªã‚‹
_æœ¬ç•ªç’°å¢ƒã«ã¯ Google Tag Manager ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã‚‹ãŒã€ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã‚„ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã«ã¯åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ãªã„_ã€‚

ã“ã®é•ã„ã‚’ç”Ÿã¿å‡ºã™å®Ÿè£…ã¨ã—ã¦ã€çœŸã£å…ˆã«æ€ã„æµ®ã‹ã¶ã®ã¯ç’°å¢ƒå¤‰æ•°ã§ã®æ¡ä»¶åˆ†å²ã ã‚ã†ã€‚

ãŸã¨ãˆã° `GOOGLE_TAG_MANAGER` ã¨ã„ã†ç’°å¢ƒå¤‰æ•°ãŒæœ¬ç•ªç’°å¢ƒã§ã ã‘ç”¨æ„ã•ã‚Œã¦ã„ã¦ã€Google Tag Manager ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’åŸ‹ã‚è¾¼ã‚€ã‹ã©ã†ã‹ã®æ¡ä»¶åˆ†å²ãŒã‚³ãƒ¼ãƒ‰å†…ã§ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æƒ³åƒã™ã‚‹ã€‚

```ruby
if ENV['GOOGLE_TAG_MANAGER']
  # Google Tag Manager ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
end
```

2022 å¹´ 2 æœˆã€ã“ã“ã‚‰ã¸ã‚“ã®ã‚³ãƒ¼ãƒ‰ã‚’ã„ã˜ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã®ã ãŒã€ã„ãã‚‰ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã‚‚æœ¬ç•ªç’°å¢ƒã§ã ã‘åæ˜ ã•ã‚Œã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã€‚

æœ¬ç•ªç’°å¢ƒã§è¨­å®šã•ã‚Œã¦ã„ã‚‹ç’°å¢ƒå¤‰æ•°ã‚’è¦‹ãŸã‚Šã‚‚ã—ãŸãŒã€ãã‚Œã‚‰ã—ã„ç’°å¢ƒå¤‰æ•°ãŒæœ¬ç•ªç’°å¢ƒã§ã ã‘ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚‚ãªã‹ã£ãŸã€‚

å®Œå…¨ã«ç…®è©°ã¾ã£ã¦ã—ã¾ã£ãŸã®ã§ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«è³ªå•ã—ãŸã¨ã“ã‚ã€ãªã‚“ã¨ **`master` ãƒ–ãƒ©ãƒ³ãƒã«ã®ã¿ Google Tag Manager ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ãŸã®ã **ã€‚

ã¤ã¾ã‚Šã€ã‚³ãƒ¼ãƒ‰å†…ã§æ¡ä»¶åˆ†å²ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ–ãƒ©ãƒ³ãƒã§å‡ºã—åˆ†ã‘ã¦ã„ãŸã¨ã„ã†ã‚ã‘ã ã€‚ã—ã‹ã‚‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚° ID ã‚‚ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ãŸãŸã‚ã€æœ¬ç•ªç’°å¢ƒã§ã®ã¿å­˜åœ¨ã™ã‚‹ç’°å¢ƒå¤‰æ•°ã¨ã„ã†ã‚‚ã®ã‚‚ãªãã€ã“ã‚Œã«æ°—ãŒã¤ã‘ãªã‘ã‚Œã°è¬Žã®ã¾ã¾ã ã£ãŸã€‚

æœ¬ç•ªç’°å¢ƒã¨å‹•ä½œãŒç•°ãªã‚‹éƒ¨åˆ†ã®åŽŸå› ã‚’è¿½ã†ã®ãŒé›£ã—ããªã‚‹ã¨ã„ã†ã ã‘ã§ã¯ãªãã€è©²å½“ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹éš›ã«ã€ã‚‚ã‚Œãªãã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒã¤ã„ã¦ã¾ã‚ã‚‹ã€‚

ã©ã“ã«æ½œã‚“ã§ã„ã‚‹ã®ã‹ã‚‚ã‚ã‹ã‚‰ãªã„ `master` ã¨ `develop` é–“ã®å·®åˆ†ã«ã‚ˆã‚‹ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã«å½“ãŸã‚‹æ§˜å­ã¯ã€ã¾ã‚‹ã§åœ°é›·ã‚’è¸ã¾ãªã„ã‚ˆã†ã«æ°—ã‚’ã¤ã‘ãªãŒã‚‰å¤–ã‚’æ­©ãã‹ã®ã‚ˆã†ãªææ€–ãŒã‚ã‚‹ã€‚





# TBD
ã§ã¯ã€ã“ã®é‹ç”¨ã‚’å»ƒæ­¢ã™ã‚‹ãŸã‚ã«è¡Œã£ãŸä½œæ¥­ã‚’å…·ä½“çš„ã«ç´¹ä»‹ã™ã‚‹ã€‚

## ç”¨èªžè§£èª¬
### `origin`
ä»Šã¾ã§é–‹ç™ºã‚’é€²ã‚ã¦ã„ãŸã€ã‚‚ã¨ã‚‚ã¨ã‚ã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’æŒ‡ã™ã€‚æœ¬å®¶ã®ãƒªãƒã‚¸ãƒˆãƒªã€‚

### `tmp`
ä»Šå›žã® cherry-pick å»ƒæ­¢ä½œæ¥­ç”¨ã®ä¸€æ™‚çš„ãªãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’æŒ‡ã™ã€‚ä½œæ¥­é–‹å§‹å‰ã¯ 0 ã‚³ãƒŸãƒƒãƒˆã®ç”£ã¾ã‚ŒãŸã¦ã»ã‚„ã»ã‚„ã®ãƒªãƒã‚¸ãƒˆãƒªã€‚

## ç™»å ´ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
ç™»å ´ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã® 4 ã¤ã€‚

* `origin` ã® `master`
* `origin` ã® `develop`
* `tmp` ã® `master`
* `tmp` ã® `develop`

## ä½œæ¥­ãƒ•ãƒ­ãƒ¼
ä¸€é€£ã®æµã‚Œã¯ä»¥ä¸‹ã®é€šã‚Š[^3]ã€‚

[^3]: ãªãŠã€ã“ã“ã§è§£èª¬ã™ã‚‹ä¸€é€£ã®æµã‚Œã¯ã€å¾Œã«ç™»å ´ã™ã‚‹å›³ä¸­ã®ä½œæ¥­ç•ªå·ã¨åˆã‚ã›ã‚‹ãŸã‚ã«ä¸€éƒ¨ã®ä½œæ¥­ãŒçœç•¥ã•ã‚Œã¦ã„ã‚‹ã€‚çœç•¥ã•ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã«é–¢ã—ã¦ã¯ã€ã•ã‚‰ã«å¾Œã§è©³ã—ãèª¬æ˜Žã™ã‚‹ã€‚

1. `tmp` ã‚’æ–°ã—ãä½œæˆã™ã‚‹
2. `origin` ã® `master` ã‚’ **ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’ä¿æŒã›ãšã«** `tmp` ã® `master` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
3. `origin` ã® `develop` ã‚’ **ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’ä¿æŒã›ãšã«** `tmp` ã® `develop` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
4. `tmp` ã® `develop` ã¨ `tmp` ã® `master` é–“ã®å·®åˆ†ã‚’åŸ‹ã‚ã¦ `tmp` ã® `master` ã«ä¸Šæ›¸ãã™ã‚‹
5. `tmp` ã® `master` ã®å†…å®¹ã‚’ `origin` ã® `master` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
6. `tmp` ã® `master` ã®å†…å®¹ã‚’ `origin` ã® `develop` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
7. `origin` ã® `develop` ã‚’ `origin` ã® `master` ã«ãƒžãƒ¼ã‚¸ã™ã‚‹
8. `origin` ã® `master` ã‚’ `origin` ã® `develop` ã«ãƒžãƒ¼ã‚¸ãƒãƒƒã‚¯ã™ã‚‹

```mermaid
flowchart
    subgraph repository[ ]
        subgraph origin
            origin_master[master]
            origin_develop[develop]
        end

        subgraph tmp
            tmp_master[master]
            tmp_develop[develop]
        end

        origin_master --> |2| tmp_master
        origin_develop --> |3| tmp_develop
    end
```

```mermaid
flowchart
    subgraph repository[ ]
        direction TB

        subgraph origin
            direction LR
            origin_master[master]
            origin_develop[develop]
        end

        subgraph tmp
            direction BT
            tmp_master[master]
            tmp_develop[develop]
        end

        tmp_develop --> |4| tmp_master
    end
```

```mermaid
flowchart
    subgraph repository[ ]
        direction RL

        subgraph origin
            origin_master[master]
            origin_develop[develop]
        end

        subgraph tmp
            tmp_master[master]
            tmp_develop[develop]
        end

        tmp_master --> |5| origin_master
        tmp_master --> |6| origin_develop
    end
```

```mermaid
flowchart
    subgraph repository[ ]
        direction TB

        subgraph origin
            direction TB
            origin_master[master]
            origin_develop[develop]
        end

        subgraph tmp
            tmp_master[master]
            tmp_develop[develop]
        end

        origin_develop --> |7| origin_master
        origin_master --> |8| origin_develop
    end
```
