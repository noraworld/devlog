---
title: "AquesTalk Pi ã‚’ Ubuntu 20 ã§å‹•ä½œã•ã›ã‚‹ã®ã¯ä¸å¯èƒ½ã‚‰ã—ã„"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
order: 110
layout: article
---

# ã‚¿ã‚¤ãƒˆãƒ«ã®æ›–æ˜§ã•å›é¿
ã‚¿ã‚¤ãƒˆãƒ«ã¯ã€ç°¡æ½”ã«ã™ã‚‹ãŸã‚ã«å¤šå°‘ç«¯æŠ˜ã£ã¦ã„ã‚‹ãŒã€æ­£ç¢ºã«ã¯ã“ã†ã ã€‚

**CPU ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒ 64-bit ã® Raspberry Pi ã«ã€64-bit ç‰ˆã® Ubuntu 20 ä»¥ä¸Šã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€AquesTalk ã‚’å‹•ä½œã•ã›ã‚‹ã“ã¨ã¯ã€å®Ÿè³ªã€ç¾çŠ¶ä¸å¯èƒ½ã§ã‚ã‚‹ã€‚**

## CPU ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒ 64-bit
ç¾çŠ¶ã§ã¯ [Raspberry Pi 4 Model B](https://www.raspberrypi.org/products/raspberry-pi-4-model-b/) ã®ã“ã¨ã‚’æŒ‡ã™ã€‚ã„ã‚ã‚†ã‚‹ arm64 ã®ã“ã¨ã ã€‚

```shell:Shell
dpkg --print-architecture
```

```
arm64
```

## AquesTalk
ã‚¿ã‚¤ãƒˆãƒ«ã§ã¯ [AquesTalk Pi](https://www.a-quest.com/products/aquestalkpi.html) ã¨è¨˜è¼‰ã—ã¦ã„ã‚‹ãŒã€ã“ã‚Œã«ã¯ [AquesTalk2](https://www.a-quest.com/products/aquestalk_2.html) ã‚„ [AquesTalk10](https://www.a-quest.com/products/aquestalk10.html) ãªã©ã€Raspberry Pi ç”¨ã§ã¯ãªã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚‚ã®ã‚‚å«ã¾ã‚Œã‚‹ã€‚

## å®Ÿè³ª
ç­†è€…ãŒæ–¹æ³•ã‚’çŸ¥ã‚‰ãªã„ã ã‘ã§ã€æœ¬å½“ã¯ã§ãã‚‹ã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã—ã‹ã—ã€ç¾å®Ÿçš„ãªæ–¹æ³•ã§å‹•ä½œã•ã›ã‚‹ç’°å¢ƒã‚’ç”¨æ„ã™ã‚‹æ–¹æ³•ã¯æ®‹å¿µãªãŒã‚‰è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã€‚è©³ã—ãã¯å¾Œè¿°ã™ã‚‹ã€‚

## ç¾çŠ¶
2021 å¹´ 9 æœˆ 29 æ—¥ (æ°´) ç¾åœ¨ã€‚



# ç’°å¢ƒ
è©¦ã—ãŸç’°å¢ƒã‚’ã¾ã¨ã‚ã‚‹ã¨ã€ä»¥ä¸‹ã®é€šã‚Šã¨ãªã‚‹ã€‚

| é …ç›® | å†…å®¹ |
| --- | --- |
| ãƒ¢ãƒ‡ãƒ« | Raspberry Pi 4 Model B |
| CPU ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | arm64 |
| OS | Ubuntu 20.04.3 (64-bit) |




# ç†ç”±
ãªãœä¸Šè¨˜ã«ç¤ºã—ãŸç’°å¢ƒã§å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒä¸å¯èƒ½ãªã®ã‹ã€ãã®ç†ç”±ã«ã¤ã„ã¦ä»¥é™ã§èª¬æ˜ã™ã‚‹ã€‚

æœ¬å½“ã«ä¸å¯èƒ½ãªã®ã‹ã©ã†ã‹ã¯ã€æ­£ç›´ã‚ã‹ã‚‰ãªã„ã€‚ç­†è€…ã®èª¿æŸ»ä¸è¶³ã‹ã‚‚ã—ã‚Œãªã„ã€‚ãã®ãŸã‚ã€ã‚‚ã—çŸ¥ã£ã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°ã”æ•™æˆé¡˜ã„ãŸã„ã€‚

## AquesTalk
AquesTalk ã«ã¯ã„ãã¤ã‹ã®ç¨®é¡ãŒã‚ã‚‹ã€‚

* [AquesTalk1](https://www.a-quest.com/products/aquestalk_1.html)
* [AquesTalk2](https://www.a-quest.com/products/aquestalk_2.html)
* [AquesTalk10](https://www.a-quest.com/products/aquestalk10.html)
* [AquesTalk Pi](https://www.a-quest.com/products/aquestalkpi.html)

ã“ã®ã†ã¡ã€AquesTalk1ã€AquesTalk2ã€AquesTalk10 ã¯ Windows ã‚„ macOSã€Linux ãªã©ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œã—ãŸã‚‚ã®ã¨ãªã£ã¦ãŠã‚Šã€AquesTalk Pi ã¯ Raspberry Pi ç”¨ã«ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸã‚‚ã®ã¨ãªã£ã¦ã„ã‚‹ã€‚

### AquesTalk Pi
Raspberry Pi ã§å‹•ä½œã•ã›ãŸã„ã®ã ã‹ã‚‰ã€ã¾ãšã¯ AquesTalk Pi ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦è©¦ã—ã¦ã¿ã‚‹ã€‚

ä½¿ç”¨æ–¹æ³•ã¯ç°¡å˜ã ã€‚å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ãƒã‚¤ãƒŠãƒªã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã¦å®Ÿè¡Œã™ã‚‹ã ã‘ã ã€‚

```shell:Shell
wget https://www.a-quest.com/archive/package/aquestalkpi-20201010.tgz
zcat aquestalkpi-20201010.tgz | tar xv
cd aquestalkpi
./AquesTalkPi -h
```

`wget` ã§æŒ‡å®šã—ã¦ã„ã‚‹ URL ã¯ã€ç¾æ™‚ç‚¹ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ URL ãªã®ã§ã€ä»Šå¾Œå¤‰æ›´ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ä¸Šè¨˜ URL ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ããªã‹ã£ãŸå ´åˆã¯ã€[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸](https://www.a-quest.com/products/aquestalkpi.html) ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‹ã‚‰ URL ã‚’èª¿ã¹ã¦ç½®ãæ›ãˆã‚‹ã“ã¨ã€‚

æœ¬æ¥ã§ã‚ã‚Œã°ã€æœ€å¾Œã® `./AquesTalkPi -h` ã‚’å®Ÿè¡Œã—ãŸéš›ã«ã€AquesTalk Pi ã®ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã ã€‚ã—ã‹ã—ã€ç­†è€…ã®ç’°å¢ƒã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€‚

```
zsh: no such file or directory: ./AquesTalkPi
```

æŒ‡å®šã—ã¦ã„ã‚‹ãƒ‘ã‚¹ã‚„ãƒ•ã‚¡ã‚¤ãƒ«åã¯é–“é•ã£ã¦ã„ãªã„ (è£œå®Œã‚‚æ­£ã—ãåŠ¹ã„ã¦ã„ã‚‹) ã®ã«ã€ãªãœã‹ä¸Šè¨˜ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã€‚

ã“ã‚Œã¯éå¸¸ã«ã‚ã‹ã‚Šã«ãã„ãŒã€å®Ÿã¯ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨ã„ã†ã“ã¨ã§ã¯ãªã„ã‚‰ã—ã„ã€‚64-bit ç‰ˆã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ 32-bit ç‰ˆã®ãƒã‚¤ãƒŠãƒªã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸Šè¨˜ã®ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚‰ã—ã„ã€‚

å‚è€ƒ: [Linuxã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œã—ãŸã‚‰ã€ŒNo such file or directoryã€ã¨è¨€ã‚ã‚ŒãŸæ™‚ã«ã¯ï¼Ÿ](https://qiita.com/charon/items/2c83be19ef93b48f7a53)

ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ãŸã—ã‹ã« 32-bit ãƒã‚¤ãƒŠãƒªã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚

```shell:Shell
file AquesTalkPi
```

```
AquesTalkPi: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-armhf.so.3, for GNU/Linux 3.2.0, BuildID[sha1]=0124bfc7a6c4ada0c0229c1ce5956dc52e3335dd, stripped
```

ãã—ã¦ã€å…ˆè¿°ã—ãŸé€šã‚Šã€Raspberry Pi 4 Model B ã¯ arm64 ãªã®ã§ã€64-bit ç‰ˆã§ã‚ã‚‹ã€‚

```shell:Shell
dpkg --print-architecture
```

```
arm64
```

ã¤ã¾ã‚Šã€64-bit ç‰ˆã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã€32-bit ç‰ˆã®ãƒã‚¤ãƒŠãƒªã‚’å®Ÿè¡Œã—ã¦ã„ãŸã®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ãŸã€ã¨ã„ã†ã‚ã‘ã ã€‚

ä½™è«‡ã ãŒã€`no such file or directory` ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã¯ã•ã™ãŒã«ã²ã©ã„ã¨æ€ã†ã€‚å®Œå…¨ã«åˆå¿ƒè€…æ³£ã‹ã›ã ã€‚

ã¨ã‚‚ã‚ã‚Œã€ã“ã‚Œã§ AquesTalk Pi ãŒã“ã®ã¾ã¾ã§ã¯å®Ÿè¡Œã§ããªã„ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã£ãŸã€‚

####
æ¬¡ã«ã€64-bit ç‰ˆã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ 32-bit ç‰ˆãƒã‚¤ãƒŠãƒªã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¿æŸ»ã—ãŸã€‚

ã™ã‚‹ã¨ã€ã„ãã¤ã‹ã®å‚è€ƒã«ãªã‚‹è¨˜äº‹ãŒå‡ºã¦ããŸã€‚

* [64bit-Linuxã§32bitãƒã‚¤ãƒŠãƒªå®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰](https://sonickun.hatenablog.com/entry/2014/06/09/233801)
* [How to run 32-bit app in Ubuntu 64-bit?](https://askubuntu.com/questions/454253/how-to-run-32-bit-app-in-ubuntu-64-bit)

ä»–ã«ã‚‚è¨˜äº‹ã¯è¦‹ã¤ã‹ã£ãŸãŒã€åŸºæœ¬çš„ã«ã¯ã©ã‚Œã‚‚åŒã˜è§£æ±ºæ–¹æ³•ã«ã¤ã„ã¦è¿°ã¹ã‚‰ã‚Œã¦ã„ãŸã€‚

ã—ã‹ã—ã€ã©ã®æ–¹æ³•ã‚’è©¦ã—ã¦ã¿ã¦ã‚‚ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‚ç…§å…ƒ URL ãŒ Not Found ã ã£ãŸã‚Šã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã€‚

ã©ã†ã‚„ã‚‰ã€ã“ã‚Œã‚‰ã®è¨˜äº‹ã¯æ˜”ã® Ubuntu (Debian ãƒ™ãƒ¼ã‚¹ã® OS) ã§ã¯ã§ããŸã‚‰ã—ã„ã®ã ãŒã€ä»Šã¯ 32-bit ç‰ˆã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæä¾›ã‚’çµ‚äº†ã—ã¦ã„ã‚‹ã‚ˆã†ã ã€‚

å‚è€ƒ: [Ubuntu 20.04 ãã®6 - Ubuntu 20.04 LTSã§å¼•ãç¶šãæä¾›ã™ã‚‹32bitç‰ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ»ç´„1,700ã®ã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¯¾è±¡ã«](https://kledgeb.blogspot.com/2019/12/ubuntu-2004-6-ubuntu-2004-lts32bit1700.html)

æ˜”ã¯ã¾ã  32-bit ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒãã“ãã“ä¸»æµã ã£ãŸãŸã‚ã€32-bit ã¨ 64-bit ã©ã¡ã‚‰ã§ã‚‚å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæä¾›ã•ã‚Œã¦ã„ãŸã®ã ãŒã€ä»Šã¯ 64-bit ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒã‹ãªã‚Šæ™®åŠã—ã¦ããŸã®ã§ã€ä»Šå¾Œã¯ 32-bit ã®ã‚µãƒãƒ¼ãƒˆã®æä¾›ã‚’çµ‚äº†ã—ã¦ã„ãæ–¹é‡ãªã®ã ã‚ã†ã€‚

ã¨ã„ã†ã‚ã‘ã§ã€Raspberry Pi 4 Model B ã« Ubuntu 20 ä»¥é™ã® OS ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´åˆã¯ã€æ®‹å¿µãªãŒã‚‰ AquesTalk Pi ã¯å®Ÿè¡Œã§ããªã„ã¨ã„ã†çµè«–ã«è‡³ã£ãŸã€‚

ä»®ã«ç¾æ™‚ç‚¹ã§å®Ÿè¡Œã§ãã‚‹æ–¹æ³•ãŒã‚ã£ãŸã¨ã—ã¦ã‚‚ã€ãã‚Œã‚‚è¿‘ã„å°†æ¥ã§ã¾ãŸä½¿ãˆãªããªã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒé«˜ã„ã€‚

### AquesTalk10
ãã‚Œãªã‚‰ã°ã€ã¨ã„ã†ã“ã¨ã§ã€AquesTalk Pi ã§ã¯ãªã AquesTalk10 ã‚’è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚

AquesTalk10 ã¯ Linux ç‰ˆã‚‚æä¾›ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€Ubuntu ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Raspberry Pi ã§ã‚‚å‹•ä½œã™ã‚‹ã®ã§ã¯ãªã„ã‹ã¨è€ƒãˆãŸã®ã ã€‚

ã“ã¡ã‚‰ã‚‚ä½¿ã„æ–¹ã¯ãã“ã¾ã§é›£ã—ããªã‹ã£ãŸã€‚å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ãƒã‚¤ãƒŠãƒªã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚ã¨ã€[ãƒãƒ‹ãƒ¥ã‚¢ãƒ«](https://www.a-quest.com/archive/manual/aqtk10_lnx_man.pdf) ã®æ‰‹é †ã«å¾“ã„ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é…ç½®ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã ã‘ã ã€‚

```shell:Shell
sudo apt -y install unzip build-essential
wget https://www.a-quest.com/archive/package/aqtk10_lnx_110.zip
unzip aqtk10_lnx_110.zip
cd aqtk10_lnx
sudo cp lib64/libAquesTalk10.so.1.1 /usr/lib
sudo ln -sf /usr/lib/libAquesTalk10.so.1.1 /usr/lib/libAquesTalk10.so.1
sudo ln -sf /usr/lib/libAquesTalk10.so.1 /usr/lib/libAquesTalk10.so
sudo /sbin/ldconfig -n /usr/lib
g++ -o HelloTalk samples/HelloTalk.c -lAquesTalk10 -Ilib64
```

ã—ã‹ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

```
/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/9/../../../../lib/libAquesTalk10.so when searching for -lAquesTalk10
/usr/bin/ld: skipping incompatible /lib/../lib/libAquesTalk10.so when searching for -lAquesTalk10
/usr/bin/ld: skipping incompatible /usr/lib/../lib/libAquesTalk10.so when searching for -lAquesTalk10
/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/9/../../../libAquesTalk10.so when searching for -lAquesTalk10
/usr/bin/ld: skipping incompatible /lib/libAquesTalk10.so when searching for -lAquesTalk10
/usr/bin/ld: skipping incompatible /usr/lib/libAquesTalk10.so when searching for -lAquesTalk10
/usr/bin/ld: cannot find -lAquesTalk10
collect2: error: ld returned 1 exit status
```

ã‚¨ãƒ©ãƒ¼æ–‡ã® 6 è¡Œç›®ã§ã€å…ˆã»ã©ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è²¼ã£ãŸ `/usr/lib/libAquesTalk10.so` ã‚’å‚ç…§ã—ã¦ã„ã‚‹ã®ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãŸã—ã‹ã«å‚ç…§ã—ã¦ã„ã‚‹ã®ã ãŒã€`AquesTalk10` ã¨ã„ã†ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ã€‚

ã‚¨ãƒ©ãƒ¼å†…å®¹ãŒ `skipping incompatible` ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’è¦—ã„ã¦ã¿ã‚‹ã€‚

```shell:Shell
objdump -a /usr/lib/libAquesTalk10.so
```

```
/usr/lib/libAquesTalk10.so:     file format elf64-little
/usr/lib/libAquesTalk10.so
```

æ¯”è¼ƒã™ã‚‹ãŸã‚ã«ã€Ubuntu ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‹ã‚‰å­˜åœ¨ã—ã¦ã„ã‚‹ä»–ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©å½“ã«ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ãã‚Œã®ä¸­èº«ã‚’è¦—ã„ã¦ã¿ã‚‹ã€‚

```shell:Shell
objdump -a /usr/lib/libdmmp.so.0.2.0
```

```
/usr/lib/libdmmp.so.0.2.0:     file format elf64-littleaarch64
/usr/lib/libdmmp.so.0.2.0
```

ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒé•ã†ã®ã§ã€ä½•ã‚„ã‚‰æ€ªã—ã„é›°å›²æ°—ãŒæ¼‚ã£ã¦ã„ã‚‹ã®ã ãŒã€ã“ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æŠ€è¡“ã«é–¢ã—ã¦ç­†è€…ã¯ã‚ã¾ã‚Šè©³ã—ããªã„ã®ã§ã€ã‚‚ã†å°‘ã—æ·±ã¼ã£ã¦ã¿ã‚‹ã€‚

`readelf` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã‚ˆã‚Šè©³ã—ã„ãƒã‚¤ãƒŠãƒªã®æƒ…å ±ãŒå‡ºã¦ãã‚‹ã‚‰ã—ã„ã€‚

å‚è€ƒ: [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸æ˜ã®ELFãƒã‚¤ãƒŠãƒªèª¿æŸ» ã§ã¯readelfã‚’ä½¿ã†](https://qiita.com/thetsuthetsu/items/02d50347cf5eb4cb7ffa)

```shell:Shell
readelf -h /usr/lib/libAquesTalk10.so
```

```
ELF Header:
  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              DYN (Shared object file)
  Machine:                           Advanced Micro Devices X86-64
  Version:                           0x1
  Entry point address:               0x4fa0
  Start of program headers:          64 (bytes into file)
  Start of section headers:          381088 (bytes into file)
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           56 (bytes)
  Number of program headers:         6
  Size of section headers:           64 (bytes)
  Number of section headers:         30
  Section header string table index: 27
```

```shell:Shell
readelf -h /usr/lib/libdmmp.so.0.2.0
```

```
ELF Header:
  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              DYN (Shared object file)
  Machine:                           AArch64
  Version:                           0x1
  Entry point address:               0x18a0
  Start of program headers:          64 (bytes into file)
  Start of section headers:          33064 (bytes into file)
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           56 (bytes)
  Number of program headers:         7
  Size of section headers:           64 (bytes)
  Number of section headers:         25
  Section header string table index: 24
```

è¦‹æ¯”ã¹ãªãã¦ã‚‚ã‚ã‹ã£ã¦ã—ã¾ã£ãŸãŒã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (ä»Šå›ã®ä¾‹ã ã¨ `/usr/lib/libdmmp.so.0.2.0`) ã¯ `Machine` ã®ç®‡æ‰€ãŒ `AArch64` ã«ãªã£ã¦ã„ã‚‹ã®ã«å¯¾ã—ã€`/usr/lib/libAquesTalk10.so` ã¯ `Advanced Micro Devices X86-64` ã«ãªã£ã¦ã„ã‚‹ã€‚

| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | ãƒã‚·ãƒ³ (ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£) |
| --- | --- |
| `/usr/lib/libdmmp.so.0.2.0` | `AArch64` |
| `/usr/lib/libAquesTalk10.so` | `Advanced Micro Devices X86-64` |

ã¤ã¾ã‚Šã€AquesTalk10 ã¯ x86_64 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã®ã¿å‹•ä½œã™ã‚‹ã‚ˆã†ã ã€‚Raspberry Pi ã¯ ARM ã® CPU ã‚’æ¡ç”¨ã—ã¦ãŠã‚Šã€åŒã˜ 64-bit ã§ã‚‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒç•°ãªã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ãŒã§ããªã„ã€‚

ã¨ã„ã†ã‚ã‘ã§ã€AquesTalk10 ã‚‚ Raspberry Pi 4 Model B ã§ã¯å®Ÿè¡Œã§ããªã„ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã£ãŸã€‚ã¨ã„ã†ã‚ˆã‚Šã€ã©ã®ãƒ¢ãƒ‡ãƒ«ã® Raspberry Pi ã§ã‚‚ AquesTalk10 ã¯åˆ©ç”¨ã§ããªã„ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã€‚

ã¡ãªã¿ã«ã“ã‚Œã¯ AquesTalk1 ã‚„ AquesTalk2 ã‚‚åŒæ§˜ã®ã‚ˆã†ã§ã€è©¦ã—ã« AquesTalk2 ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚ˆã†ã¨ã—ã¦ã¿ãŸãŒã€åŒã˜ã‚¨ãƒ©ãƒ¼ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ãŒã§ããªã‹ã£ãŸã€‚




# çµè«–
ã¨ã„ã†ã“ã¨ã§ã€ã¾ã¨ã‚ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚

* AquesTalk Pi ã¯ 32-bit ç‰ˆã® Raspberry Pi ã§ã®ã¿å‹•ä½œã™ã‚‹
* Ubuntu 20 ä»¥é™ã§ã¯ã€åŸºæœ¬çš„ã« 64-bit ç‰ˆã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ 32-bit ç‰ˆã®ãƒã‚¤ãƒŠãƒªã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ããªã„
* AquesTalk1, AquesTalk2, AquesTalk10 ã¯ x86_64 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã®ã¿å‹•ä½œã™ã‚‹
* **çµæœã¨ã—ã¦ã€arm64 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã® Raspberry Pi 4 Model B ã« Ubuntu 20.04.3 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ AquesTalk ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã¯ç¾çŠ¶ã§ããªã„**

ã‚‚ã¡ã‚ã‚“ã“ã‚Œã¯ã‚ãã¾ã§ç¾æ™‚ç‚¹ã§ã®è©±ãªã®ã§ã€ä»Šå¾Œã€ã‚¢ã‚¯ã‚¨ã‚¹ãƒˆç¤¾ãŒ 64-bit ç‰ˆã«å¯¾å¿œã—ãŸ AquesTalk Pi ã‚’æä¾›ã—ã¦ãã‚Œã‚Œã°ã€ã‚ã‚‹ã„ã¯ AquesTalk10 ç­‰ãŒ ARM ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãã‚Œã‚Œã°åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚ã—ã‹ã—ç¾çŠ¶ã§ã¯ã“ã‚Œã‚‰ã¯æä¾›ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ç­†è€…ã®ç’°å¢ƒã®ã‚ˆã†ã« Ubuntu 20.04.3 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ Raspberry Pi 4 Model B ã§ã¯æ®‹å¿µãªãŒã‚‰å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒã§ããªã„ã‚ˆã†ã ã€‚

ç¹°ã‚Šè¿”ã—ã«ãªã‚‹ãŒã€ç­†è€…ã®èª¿æŸ»ä¸è¶³ãªã ã‘ã§ã€ç¾å®Ÿçš„ã«å‹•ä½œã•ã›ã‚‹æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã‚‚ã—ãã®æ–¹æ³•ã‚’ã”å­˜çŸ¥ã®æ–¹ãŒã„ãŸã‚‰ã”æ•™æˆã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã€‚
